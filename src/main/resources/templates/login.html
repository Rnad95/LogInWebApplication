<!doctype html>


<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>LOGIN</title>
</head>
<body>
<div class="container" role="document">
    <div class="row">
        <div class="col-md-5 mx-auto">
            <div id="first">
                <div class="myform form ">
                    <div class="logo mb-3">
                        <div class="col-md-12 text-center">
                            <br/><br/>
                            <h1>Login</h1>
                        </div>
                    </div>
                    <div class="col-md-12 text-center">
                        <div style="margin-top:6px;">
                            <div th:if="${param.error}"><p style="color: #ff3333; font-size:medium">[[${session.SPRING_SECURITY_LAST_EXCEPTION.message}]]</p></div>
                        </div>

                    </div>
                    <form  action="/login-process" method="post">
                        <div class="d-flex justify-content-center align-items-center mx-4 mb-3 mb-lg-4">

                            <i class="fas fa-user fa-lg me-3 fa-fw"></i>
                            <div class="form-outline flex-fill mb-0">
                                <label class="form-label" for="username">Email</label>
                                <input id="username" class="form-control" value="r.khawatrah13@gmail.com" type="text" name="username" >
                            </div>
                        </div>
                        <div class="d-flex justify-content-center align-items-center mx-4 mb-3 mb-lg-4">
                            <i class="fas fa-lock fa-lg me-3 fa-fw"></i>
                            <div class="form-outline flex-fill mb-0">
                                <label class="form-label" for="password">Password</label>
                                <input type="password" id="password" class="form-control" value="password" name="password" />
                            </div>
                        </div>
<!--                        <div class="d-flex justify-content-center align-items-center mx-4 mb-3 mb-lg-4" >-->
<!--                            <i class="fas fa-user fa-lg me-3 fa-fw"></i>-->
<!--                            <div class="form-outline flex-fill mb-0">-->
<!--                                <label class="form-label" for="phone">Phone</label>-->
<!--                                <input id="phone" class="form-control" placeholder="+9622222.." type="text" name="phone" >-->
<!--                                <input type="button" name="sendotp" id="sendotp" class="class="form-label" btn btn-primary"  value="Send Code">-->

<!--                            </div>-->
<!--                        </div>-->
                        <div th:if="${param.otp}" class="d-flex justify-content-center align-items-center mx-4 mb-3 mb-lg-4">
                            <i class="fas fa-lock fa-lg me-3 fa-fw"></i>
                            <div class="form-outline flex-fill mb-0">
                                <label class="form-label" for="otp">We send Code to your Email please check your account</label>
                                <input type="text" id="otp" class="form-control" placeholder="Enter Code" name="otp" />
                            </div>
                        </div>

                        <div class="d-flex justify-content-center align-items-center mx-4 mb-3 mb-lg-4">
                            <button type="submit" class="btn btn-primary ">Login</button>

                        </div>
                    </form>
                    <div class="form-group">
                        <div class="text-center">
                            <span class="span-or">or</span>
                            <label>Login with</label>
                            <a th:href="@{/home}" id="log-in">Okta</a></div>
                        <p class="text-center">Don't have account? <a href="/sign-up" id="signup">Sign up here</a></p>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
<!--<script th:src = "@{/js/bootstrap.min.js}"></script>-->


<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
    $(document).ready(function() {

        $('#sendotp,#resendotp').click(function() {

            var phone = $('#phone').val();
            console.log("PHONE => " + phone)
            //alert(phone);
            $.ajax({
                url: 'http://localhost:8080/sendotp',
                method: 'POST',
                data: {
                    'phone': phone//pass value
                },
                success: function(data){
                    //success function
                    //return data form server
                    console.log("data "+ data)
                    alert('Otp sent to:'+phone);
                },
                error: function(data){ //error function
                    console.log("data "+ data)
                    alert('Failed to send Otp :'+phone);
                    console.log(data)
                }
            });
        });
    });
</script>

</body>
<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<!--<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>-->
<!--<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>-->
<!------ Include the above in your HEAD tag ---------->

<!--<script src="https://cdn.jsdelivr.net/jquery.validation/1.15.1/jquery.validate.min.js"></script>-->
<link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet">
<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

</html>